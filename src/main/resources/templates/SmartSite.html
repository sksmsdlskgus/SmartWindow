<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="" type="image/x-icon">
    <title>Smart Window Control System ⛅</title>
</head>
<body>
<div class="js-clock clock">
    <h1 class="clock__time">06:52:46 PM</h1>
</div>

<div class="listBox">
    <div class="weatherBox">
        <div id="ww_0fd1a94b7bc98" v='1.3' loc='id' a='{"t":"horizontal","lang":"ko","sl_lpl":1,"ids":[],"font":"Times","sl_ics":"one_a","sl_sot":"celsius","cl_bkg":"#FFFFFF00","cl_font": "#FFFFFF","cl_cloud":"#d4d4d4","cl_persp":"#2196F3","cl_sun":"#FFC107","cl_moon":"#FFC107","cl_thund":"#FF5722"}'>More forecasts: <a href="https://sharpweather.com/ko/seoul/" id="ww_0fd1a94b7bc98_u" target="_blank">서울 날씨 시간별</a></div>
        <script async src="https://app2.weatherwidget.org/js/?id=ww_0fd1a94b7bc98"></script>
    </div>

<div class="subListBox">
    <div class="js-todoHeader todoHeader listHeader">
        <div class="text">Temperature</div>
        <div class="horizon"></div>
        <div class="text" id="temperature">35°C</div>
    </div>
    <ul class="js-todoList todoList list"></ul>
</div>

<div class="division"></div>

<div class="subListBox">
    <div class="js-doneHeader doneHeader listHeader">
        <div class="text">Humidity</div>
        <div class="horizon"></div>
        <div class="text" id="humidity">35%</div>
    </div>
    <ul class="js-doneList doneList list"></ul>
</div>

<div class="division"></div>

<div class="subListBox">
    <div class="js-doneHeader doneHeader listHeader">
        <div class="text">Raindrop Water</div>
        <div class="horizon"></div>
        <div class="text" id="raindrop">35mm</div>
    </div>
    <ul class="js-doneList doneList list"></ul>
</div>
</div>

<div class="welcomeBox">
    <span class="js-welcome welcome">Smart Window Control System ⛅ &nbsp; & &nbsp;</span>
    <span class="js-greeting greeting"></span>
    <button class="js-remove removeBtn">Window Open</button>
</div>

<script src="clock.js"></script>
<script src="greeting.js"></script>

<script>
    function updateValues(temperature, humidity, raindrop) {
        document.getElementById('temperature').innerText = temperature;
        document.getElementById('humidity').innerText = humidity;
        document.getElementById('raindrop').innerText = raindrop;
    }


    fetch('/smart/Main')
        .then(response => response.json())
        .then(data => {

            const mainData = data[0];


            updateValues(`${mainData.temp}°C`, `${mainData.humi}%`, `${mainData.raindrops_status}mm`);
        })
        .catch(error => console.error('Error fetching data:', error));
</script>
</body>
</html>
